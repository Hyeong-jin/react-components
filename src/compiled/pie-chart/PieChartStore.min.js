define(function(a){"use strict";var b=a("AppDispatcher"),c=a("lodash"),d=a("drc/pie-chart/PieChartActions"),e=a("drc/lib/StoreBase"),f=d.actionTypes,g=function(a,b){this.id=a,this.definition=b,this.url=b.url,this.label=b.label};g.prototype={onDataReceived:function(a){this.data=a},errorFunction:function(){this.data=null},getData:function(){return this.data},getLabel:function(){return this.label}};var h=c.merge({collection:{},componentType:"PieChart",createInstance:function(a,b){this.collection[a]=new g(a,b)},destroyInstance:function(a){delete this.collection[a]},getData:function(a){return this.collection[a].getData()},getLabel:function(a){return this.collection[a]?this.collection[a].getLabel():void 0},dispatchRegister:function(a){var b=a.action;if(this.shouldHandleAction(b.component))switch(b.actionType){case f.REQUEST_DATA:this.handleRequestDataAction(b);break;case f.DESTROY_INSTANCE:this.destroyInstance(b.id)}},PieChart:g},e);return b.register(c.bind(h.dispatchRegister,h)),h});